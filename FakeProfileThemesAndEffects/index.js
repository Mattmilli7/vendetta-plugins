(function(s,b,h,n,E,d){"use strict";const{FormRadioRow:m,FormRow:I,FormSection:P}=d.Forms,{ScrollView:S}=d.General;function N(){return E.useProxy(n.storage),React.createElement(S,null,React.createElement(P,{title:"Settings"},React.createElement(I,{label:"Source to use if profile theme colors / effects are set by both Nitro and About Me"}),React.createElement(m,{label:"Nitro",onPress:function(){n.storage.prioritizeNitro=!0},selected:!!n.storage.prioritizeNitro}),React.createElement(m,{label:"About Me",onPress:function(){n.storage.prioritizeNitro=!1},selected:!n.storage.prioritizeNitro})))}function p(o){const e=o.matchAll(/(?<=#)[\dA-Fa-f]{1,6}/g);return[parseInt(e.next().value?.[0],16)||-1,parseInt(e.next().value?.[0],16)||-1]}function i(o){if(o==="")return-1;let e=0;for(let t=0;t<o.length;t++){if(e>16777215)return-2;e+=o.codePointAt(t)*4096**(o.length-1-t)}return e}function f(o){if(o==="")return-1n;let e=0n;for(let t=0;t<o.length;t++){if(e>1200000000000000000n)return-2n;e+=BigInt(o.codePointAt(t))*4096n**BigInt(o.length-1-t)}return e}function u(o){const e=["","",""];let t=0;for(const a of o){const r=a.codePointAt(0);if(r===8203){if(t>=2)break;t++}else if(r>=917504&&r<=921599)e[t]+=String.fromCodePoint(r-917504);else if(t>0||e[0]!=="")break}return e}function c(o,e,t){e>-1?(o.themeColors=[e,t>-1?t:e],o.premiumType=2):t>-1&&(o.themeColors=[t,t],o.premiumType=2)}function l(o,e){e>-1n&&(o.profileEffectId=e.toString(),o.profileEffectID=e.toString(),o.premiumType=2)}const g=[],R=b.findByStoreName("UserProfileStore");var y={onLoad:function(){g.push(h.after("getUserProfile",R,function(o,e){if(e===void 0)return e;if(n.storage.prioritizeNitro){if(e.themeColors!==void 0){if(e.profileEffectId===void 0&&e.profileEffectID===void 0){const r=u(e.bio);i(r[0])===-2?l(e,f(r[1])):l(e,f(r[2]))}return e}else if(e.profileEffectId!==void 0||e.profileEffectID!==void 0){const r=u(e.bio),v=i(r[0]);return v===-2?c(e,...p(r[0])):c(e,v,i(r[1])),e}}const t=u(e.bio),a=i(t[0]);return a===-2?(c(e,...p(t[0])),l(e,f(t[1]))):(c(e,a,i(t[1])),l(e,f(t[2]))),e}))},onUnload:function(){g.forEach(function(o){o()})},settings:N};return s.default=y,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.patcher,vendetta.plugin,vendetta.storage,vendetta.ui.components);
